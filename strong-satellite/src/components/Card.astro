---
import {type WeatherAPI} from '../types/api'
let data: WeatherAPI
---

<script>

    const searchCityInput = document.querySelector("form input");
    let res;

    if (searchCityInput instanceof HTMLInputElement) {
        const searchCityValue = searchCityInput.value;
        res = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${searchCityValue}&appid=8618719e0c739a0ddc42604f37fd6261`);
    }
    console.log(await res?.json());
</script>

<form action="">
    <input type="search" name="" id="">
    <button>Buscar</button>
</form>
<div class=" overflow-hidden bg-white/[.1] backdrop-blur-md w-[390px] h-[744px] rounded-3xl flex-col flex justify-center bg-[url('/Image.svg')]">

    <div class="text-white text-center">
        <h1 class="text-2xl">{data?.name}</h1>
        <h2 class="text-6xl font-thin">{data?.main?.temp}°C</h2>
        <p class="text-gray-300">{data?.weather?.description}</p>
        <div class="flex gap-5 items-center justify-center mt-4">
            <p>{data?.main?.temp_min}°C</p>
            <p>{data?.main?.temp_max}°C</p>
        </div>
    </div>
    <img src="/House 4 3.svg" alt="" class="">

    <div class="flex items-center justify-center w-full justify-self-end mt-12 absolute bottom-0 z-10">
        <button><img src="/Map.svg" alt=""></button>
        <div class="relative">
            <img src="/Subtract.png" alt="" class="block mx-auto">
            <button class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 rounded-full bg-white shadow-md shadow-inner-slate-200">
                <img src="/Plus.svg" alt="">
            </button>
        </div>
        <button><img src="/List.svg" alt=""></button>
    </div>
    <div class="absolute bottom-0 bg-black/20 h-2/5 w-full backdrop-blur-lg rounded-tr-3xl rounded-tl-3xl">

    </div>

</div>


